extends layout

block styles
    link(rel="stylesheet", href="/css/dashboard/admin-dashboard.css")

block content
    .cards-view 
        a.card.blue(href="/dashboard/users")
            i.fa.fa-user 
            h1.number= users.length
            .progress-bar
                .passed(style="width: #{Math.floor((users.length/100)*100) < 100 ? Math.floor((users.length/100)*100) : 100}%")
            h1.title کاربران
        a.card.orange(href="#")
            i.fa.fa-dollar
            h1.number 1234 تومان
            .progress-bar
                .passed(style="width: 50%")
            h1.title درآمد
        a.card.green(href="#")
            i.fa.fa-credit-card
            h1.number= accounts.length
            .progress-bar
                .passed(style="width: #{Math.floor((accounts.length/100)*100) < 100 ? Math.floor((accounts.length/100)*100) : 100}%")
            h1.title حساب ها
        a.card.red(href="#")
            i.fa.fa-dollar
            h1.number= sumCharge
            .progress-bar
                .passed(style="width: #{Math.floor((sumCharge/10000)*100) < 100 ? Math.floor((sumCharge/10000)*100) : 100}%")
            h1.title شارژ کل
    
    .notifications
        -for(var i=transmissions.length-1; i>=0; i--){
            .notif.nohover
                a
                    .text انتقال شارژ #{transmissions[i].amount} متر مکعب از حساب 
                        | #{transmissions[i].source.type == 'chah'? 'چاه ' : ''}#{transmissions[i].source.type == 'chahvandi'? 'چاه‌وندی ' : ''}#{transmissions[i].source.type == 'abvandi'? 'آب‌وندی ' : ''}
                        | #{transmissions[i].source.type == 'chah' ? transmissions[i].source.license : transmissions[i].source.accountNumber} (#{transmissions[i].source.owner}) به حساب
                        | #{transmissions[i].target.type == 'chah'? 'چاه ' : ''}#{transmissions[i].target.type == 'chahvandi'? 'چاه‌وندی ' : ''}#{transmissions[i].target.type == 'abvandi'? 'آب‌وندی ' : ''}
                        | #{transmissions[i].target.type == 'chah' ? transmissions[i].target.license : transmissions[i].target.accountNumber} (#{transmissions[i].target.owner}).
                .date= dateConvert.get_year_month_day(transmissions[i].date)
                .control
                    a.accept(href="/dashboard/accept-transmission?transmissionID=#{transmissions[i]._id}") 
                        i.fa.fa-check
                    a.decline(href="/dashboard/decline-transmission?transmissionID=#{transmissions[i]._id}") 
                        i.fa.fa-times
                        
        -}
        -for(var i=notifications.length-1; i>=0; i--){
            .notif(class="#{notifications[i].seen == true ? 'seen' : ''}")
                -if(notifications[i].type == 'add-account'){ 
                    a(href="#{notifications[i].link}") 
                        .text= notifications[i].text 
                    .date= dateConvert.get_year_month_day(notifications[i].date)
                -}
        -}



    //- .charts-view 
        .chart1 
            #chart1
        .chart2
            #chart2
            a(href="#") 
                i.fa.fa-address-card
                | حساب ها
        
    
    script(src="/js/admin-dashboard.js") 


